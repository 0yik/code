<?xml version="1.0"?>
<odoo>

    <record id="view_create_opportunity_simplified_inherit" model="ir.ui.view">
        <field name="name">crm.lead.form.simple</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.view_create_opportunity_simplified"/>
        <field name="arch" type="xml">
            <field name="name" position="attributes">
                <attribute name="required">False</attribute>
                <attribute name="invisible">True</attribute>
            </field>
            <field name="partner_id" position="replace">
                <field name="partner_id" string="Customer Name" required="1" domain="[('customer','=',True),('user_id','=',uid)]"/>
            </field>
        </field>
    </record>

    <record id="view_create_opportunity_simplified_manager_inherit" model="ir.ui.view">
        <field name="name">crm.lead.form.simple</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="avanta_fields_modifier.view_create_opportunity_simplified_inherit"/>
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_manager')])]"/>
        <field name="arch" type="xml">
            <field name="partner_id" position="replace">
                <field name="partner_id" string="Customer Name" required="1" domain="[('customer','=',True)]"/>
            </field>
        </field>
    </record>

    <record id="crm_case_form_view_oppor_inherit" model="ir.ui.view">
        <field name="name">crm.lead.form.opportunity</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
        <field name="arch" type="xml">
            <xpath expr="/form/sheet/div[4]/label" position="replace">
                <label string="Customer Name"/>
            </xpath>
            <field name="partner_id" position="replace">
                <field name="partner_id"
                                    string="Customer" domain="[('customer', '=', True),('user_id','=',uid)]"
                                    context="{'search_default_customer': 1,
                                        'default_name': partner_name, 'default_street': street,
                                        'default_street2': street2, 'default_city': city,
                                        'default_state_id': state_id, 'default_zip': zip,
                                        'default_country_id': country_id, 'default_function': function,
                                        'default_phone': phone, 'default_mobile': mobile,
                                        'default_fax': fax, 'default_email': email_from,
                                        'default_user_id': user_id, 'default_team_id': team_id}"/>
            </field>
            <button name="action_set_won" position="replace">
                <button name="action_set_won" string="Mark Won"
                                type="object" class="oe_highlight o_wow"
                                attrs="{'invisible': ['|', ('active','=',False), ('probability', '=', 100)]}" invisible="1"/>
            </button>
            <button name="%(crm.crm_lead_lost_action)d" position="replace">
                <button name="%(crm.crm_lead_lost_action)d" string="Mark Lost"
                                type="action" class="oe_highlight"
                                context="{'default_lead_id': active_id}"
                                attrs="{'invisible': [('active', '=', False),('probability', '&lt;', 100)]}" invisible="1"/>
            </button>
            <button name="%(crm.crm_activity_log_action)d" position="attributes">
                <attribute name="invisible">1</attribute>
            </button>
            <button name="action_set_won" position="after">
                <button name="allocation" type="object" string="Allocation" class="oe_highlight" attrs="{'invisible': [('stage_name', 'not in', ['Enquiry'])]}"/>
                <button name="%(crm_lead_won_action)d" string="Mark Won"
                                type="action" class="oe_highlight o_wow"
                                attrs="{'invisible': [('stage_name','not in', ['Follow up', 'Quotation'])]}"/>
                <button name="%(crm.crm_lead_lost_action)d" string="Mark Lost"
                                type="action" class="oe_highlight o_wow"
                                attrs="{'invisible': [('stage_name','not in', ['Follow up', 'Quotation'])]}"/>
                <button name="to_dead" type="object" string="Dead" class="oe_highlight" attrs="{'invisible': ['|',('stage_name', 'not in', ['Allocation']),('stage_name', 'in', ['Status'])]}" groups="avanta_fields_modifier.admin,sales_team.group_sale_salesman_all_leads,sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user"/>
                <button name="to_followup" type="object" string="KIV" class="oe_highlight" attrs="{'invisible': ['|',('stage_name', 'not in', ['Allocation']),('stage_name', 'in', ['Follow up'])]}" groups="avanta_fields_modifier.admin,sales_team.group_sale_salesman_all_leads,sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user"/>

            </button>

            <field name="company_currency" position="after">
                <field name="stage_name"  invisible="1"/>
            </field>
            <field name="date_deadline" position="after">
                <field name="status" />
                <field name="crm_lead_status" attrs="{'invisible': ['|',('stage_name', 'not in', ['Status'])]}"/>
                <field name="lead_allocated" invisible="1"/>
                <field name="ehl_renewal" invisible="1"/>
            </field>
            <field name="partner_id" position="after">
                <field name="quotation_preferred"/>
            </field>
            <field name="tag_ids"  position="attributes">
             <attribute name="invisible">1</attribute>
            </field>
            <field name="tag_ids" position="after">
                <field name="on_products" invisible="1"/>
                <field name="services" domain="[('type', '=', 'service')]" required="1" />
                <field name="products" domain="[('service_id', '=', services)]" attrs="{'invisible':[('on_products', '=', True)], 'required':[('on_products', '=', False)]}"/>
                <field name="lead_source" attrs="{'invisible':[('stage_name', 'not in', ['Enquiry'])]}"/>
            </field>
            <field name="team_id" position="after">
                <field name="won_reasion_id" invisible="1"/>
            </field>
            <field name="team_id" position="after">
                <field name="project_phases" attrs="{'invisible':[('stage_name', 'not in', ['Status'])]}"/>
            </field>
            <field name="team_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
        </field>
    </record>

    <record id="crm_case_form_view_oppor_form_inherit" model="ir.ui.view">
        <field name="name">crm.lead.form.opportunity</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="avanta_fields_modifier.crm_case_form_view_oppor_inherit"/>
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_manager')])]"/>
        <field name="arch" type="xml">
            <field name="partner_id" position="replace">
                <field name="partner_id"
                                    string="Customer" domain="[('customer', '=', True)]"
                                    context="{'search_default_customer': 1,
                                        'default_name': partner_name, 'default_street': street,
                                        'default_street2': street2, 'default_city': city,
                                        'default_state_id': state_id, 'default_zip': zip,
                                        'default_country_id': country_id, 'default_function': function,
                                        'default_phone': phone, 'default_mobile': mobile,
                                        'default_fax': fax, 'default_email': email_from,
                                        'default_user_id': user_id, 'default_team_id': team_id}"/>
            </field>
        </field>
    </record>

    <record id="crm_case_form_view_oppor_no_edit_inherit" model="ir.ui.view">
        <field name="name">crm.lead.form.view.oppor.no.edit.inherit</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="avanta_fields_modifier.crm_case_form_view_oppor_inherit"/>
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_salesman'),ref('avanta_fields_modifier.group_management_representative'),ref('avanta_fields_modifier.group_crm_user')])]"/>
        <field name="arch" type="xml">
            <field name="partner_id" position="attributes">
                <attribute name="options">{"no_open": True}</attribute>
            </field>
            <field name="email_from" position="attributes">
                <attribute name="readonly">1</attribute>
            </field>
            <field name="phone" position="attributes">
                <attribute name="readonly">1</attribute>
            </field>
            <field name="name" position="attributes">
                <attribute name="readonly">1</attribute>
            </field>
        </field>
    </record>

    <record id="crm_case_form_view_oppor_user_inherit" model="ir.ui.view">
        <field name="name">crm.case.form.view.oppor.user.inherit</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="avanta_fields_modifier.crm_case_form_view_oppor_inherit"/>
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_salesman'),ref('avanta_fields_modifier.group_management_representative'),ref('avanta_fields_modifier.group_crm_user'),ref('avanta_fields_modifier.group_crm_admin')])]"/>
        <field name="arch" type="xml">
            <field name="services" position="attributes">
                <attribute name="options">{"no_open": True, "no_create_edit": True, "no_create": True}</attribute>
            </field>
            <field name="products" position="attributes">
                <attribute name="options">{"no_open": True, "no_create_edit": True, "no_create": True}</attribute>
            </field>
            <field name="lead_source" position="attributes">
                <attribute name="options">{"no_open": True, "no_create_edit": True, "no_create": True}</attribute>
            </field>
        </field>
    </record>

    <record id="crm_case_form_view_oppor_admin_inherit" model="ir.ui.view">
        <field name="name">crm.case.form.view.oppor.admin.inherit</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="avanta_fields_modifier.crm_case_form_view_oppor_user_inherit"/>
        <field name="groups_id" eval="[(6,0, [ref('avanta_fields_modifier.group_crm_admin')])]"/>
        <field name="arch" type="xml">
            <field name="quotation_preferred" position="replace">
                <field name="quotation_preferred" groups="sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modidifer.group_crm_user"/>
            </field>
            <field name="user_id" position="attributes">
                <attribute name="options">{"no_open": True, "no_create_edit": True, "no_create": True}</attribute>
            </field>
            <button name="to_dead" position="attributes">
                <attribute name="invisible">1</attribute>
            </button>
            <button name="to_followup" position="attributes">
                <attribute name="invisible">1</attribute>
            </button>
            <field name="stage_id" position="attributes">
                <attribute name="attrs">{'invisible': [('stage_name','!=', 'Enquiry')]}</attribute>
            </field>
        </field>
    </record>

    <record id="crm_case_tree_view_oppor_inherit" model="ir.ui.view">
        <field name="name">crm.lead.tree.lead.inherit</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_tree_view_oppor"/>
        <field name="arch" type="xml">
            <field name="partner_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="create_date" position="after">
                <field name="products"/>
            </field>
            <field name="create_date" position="attributes">
                <attribute name="string">Created Date</attribute>
            </field>
            <field name="name" position="attributes">
                <attribute name="string">Customer Name</attribute>
            </field>
            <field name="date_action" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="title_action" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="stage_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="planned_revenue"  position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="probability" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="team_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
        </field>
    </record>

    <record id="crm_case_form_view_oppor" model="ir.ui.view">
        <field name="name">crm.lead.oppor.inherited.crm</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="sale_crm.crm_case_form_view_oppor"/>
        <field name="arch" type="xml">
            <button name="%(sale_crm.sale_action_quotations)d"  position="attributes">
                <attribute name="attrs">{'invisible': [('quotation_preferred', '=', False)]}</attribute>
                <attribute name="context">{'search_default_opportunity_id': active_id, 'default_opportunity_id': active_id, 'default_services_id': services}</attribute>
            </button>
        </field>
    </record>

    <record id="inherit_crm_case_form_view_oppor" model="ir.ui.view">
        <field name="name">crm.lead.oppor.inherited.crm</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="sale_crm.crm_case_form_view_oppor"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='%(sale_crm.sale_action_quotations_new)d']" position="attributes">
                <attribute name="attrs">{'invisible': [('quotation_preferred', '=', False)]}</attribute>
                <attribute name="context">{'search_default_partner_id': partner_id, 'default_partner_id': partner_id, 'default_team_id': team_id, 'default_services_id': services}</attribute>
            </xpath>
        </field>
    </record>

    <record id="view_quotation_tree_inherit" model="ir.ui.view">
        <field name="name">sale.order.tree.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_quotation_tree"/>
        <field name="arch" type="xml">
            <field name="state" position="attributes">
                <attribute name="string">Quotation Status</attribute>
            </field>
            <field name="date_order" position="attributes">
                <attribute name="string">Quote Date</attribute>
            </field>
        </field>
    </record>

    <record id="crm_case_kanban_view_leads_inherit" model="ir.ui.view">
        <field name="name">crm.lead.kanban.lead</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_kanban_view_leads"/>
        <field name="arch" type="xml">
            <kanban position="attributes">
                <attribute name="group_create">false</attribute>
            </kanban>
        </field>
    </record>

    <record id="view_order_form_inherit" model="ir.ui.view">
        <field name="name">sale.order.form</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="/form/sheet/group/group[1]" position="inside">
                <field name="contact_name" required="1"/>
                <label for="street" string="Address"/>
                <div class="o_address_format">
                    <field name="street" placeholder="Street..." class="o_address_street" required="1"/>
                    <field name="street2" placeholder="Street 2..." class="o_address_street" />
                    <field name="city" placeholder="City" class="o_address_city" />
                    <field name="state_id" class="o_address_state" placeholder="State" options="{&quot;no_open&quot;: True}" context="{'country_id': country_id, 'zip': zip}"/>
                    <field name="zip" placeholder="ZIP" class="o_address_zip" required="1"/>
                    <field name="country_id" placeholder="Country" class="o_address_country" options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/>
                </div>
            </xpath>
            <xpath expr="/form/header/button[@name='action_done']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <field name="date_order"  position="attributes">
                <attribute name="string" >Quote Date</attribute>
            </field>
            <xpath expr="/form/header/button[6]" position="attributes">
                <attribute name="string">Quotation Sent</attribute>
            </xpath>
            <xpath expr="/form/header/button[5]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="/form/sheet/group/group[1]" position="inside">
                <field name="services_id" required="1"/>
            </xpath>
            <button name="print_quotation" position="attributes" >
                <attribute name="invisible">1</attribute>
            </button>
            <xpath expr="/form/header/button[7]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="/form/header/button[1]" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="/form/header/button[2]" position="attributes">
                <attribut name="invisible">1</attribut>
            </xpath>
            <button name="print_quotation" position="attributes" >
                <attribute name="invisible">1</attribute>
            </button>
            <field name="payment_term_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
            <field name="validity_date" position="after">
                <field name="avanta_company_id" required="1"/>
            </field>
            <field name="validity_date" position="attributes">
                <attribute name="required">1</attribute>
            </field>
            <field name="price_total" position="after">
                <field name="terms_and_conditions"/>
            </field>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='product_uom_qty']" position="attributes">
                <attribute name="string">Nos</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='qty_delivered']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='qty_invoiced']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='price_unit']" position="attributes">
                <attribute name="string">Fees</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='price_subtotal']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[2]/field[@name='tax_id']" position="attributes">
                <attribute name="invisible">1</attribute>
                <attribute name="widget">False</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[2]/field[@name='tax_id']" position="after">
                <field name="avanta_tax_id"/>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[2]/field[@name='tax_id']" position="after">
                <field name="additional_notes"/>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='tax_id']" position="attributes">
                <attribute name="invisible">1</attribute>
                <attribute name="widget">False</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='tax_id']" position="after">
                <field name="avanta_tax_id"/>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='price_subtotal']" position="after">
                <field name="additional_notes"/>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='product_id']" position="attributes">
                <attribute name="domain">[('service_id', '=', parent.services_id)]</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='terms_and_conditions']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[1]/div/field[@name='product_uom_qty']" position="attributes">
                <attribute name="string">NOS</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[1]/div/field[@name='qty_delivered']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[1]/label[2]" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[1]/div/field[@name='qty_invoiced']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[1]/label[3]" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
             <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[1]/div/field[@name='discount']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[1]/label[4]" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page/field[@name='order_line']/form/group/group[1]/field[@name='price_unit']" position="attributes">
                <attribute name="string">Fees</attribute>
            </xpath>
            <xpath expr="//form/sheet/notebook/page/field[@name='order_line']/tree/field[@name='discount']" position="attributes">
                <attribute name="string">Discount</attribute>
            </xpath>
            <xpath expr="/form/sheet/notebook/page[1]" position="after">
                <page string="CRM Payment Schedule and Terms">
                    <group>
                        <field name="serices_name" invisible="1"/>
                        <field name="crm_psp_cop_seventy" attrs="{'invisible': [('serices_name', '!=', 'Consulting')]}"/>
                        <field name="crm_psp_cop_hmpct_thirty" attrs="{'invisible': [('serices_name', '!=', 'Consulting')]}"/>
                        <field name="crm_psp_cop_icv" attrs="{'invisible': [('serices_name', '!=', 'Consulting')]}"/>
                        <field name="crm_psp_cop" attrs="{'invisible': [('serices_name', '!=', 'Consulting')]}"/>
                        <field name="crm_pst" attrs="{'invisible': [('serices_name', 'not in', ['Consulting', 'Auditing', 'Room Rental', 'EHS Legal Updating', 'AA Training', 'AG Training'])]}"/>
                        <field name="auditing_puc" attrs="{'invisible': [('serices_name', '!=', 'Auditing')]}"/>
                        <field name="auditing_rwbrurfp" attrs="{'invisible': [('serices_name', '!=', 'Auditing')]}"/>
                        <field name="psmsdagpl_seven_days" attrs="{'invisible': [('serices_name', 'not in', ['EHS Legal Updating', 'Room Rental', 'AA Training', 'AG Training'])]}"/>
                        <field name="psmsdagpl_thirty_days" attrs="{'invisible': [('serices_name', 'not in', ['EHS Legal Updating', 'Room Rental', 'AA Training', 'AG Training'])]}"/>
                        <field name="ehs_isucsf" attrs="{'invisible': [('serices_name', '!=', 'EHS Legal Updating')]}"/>
                        <field name="outsourcing_crm_payment_schedule_perms" attrs="{'invisible': [('serices_name', '!=', 'Out Sourcing')]}"/>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <record id="view_order_form_user_inherit" model="ir.ui.view">
        <field name="name">view.order.form.user.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="avanta_fields_modifier.view_order_form_inherit"/>
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_salesman'),ref('avanta_fields_modifier.group_management_representative'),ref('avanta_fields_modifier.group_crm_user')])]"/>
        <field name="arch" type="xml">
            <field name="services_id" position="attributes">
                <attribute name="options">{"no_open": True, "no_create_edit": True, "no_open": True}</attribute>
            </field>
            <field name="avanta_company_id" position="attributes">
                <attribute name="options">{"no_open": True, "no_create_edit": True, "no_open": True}</attribute>
            </field>
        </field>
    </record>

    <record id="sale.menu_sale_order" model="ir.ui.menu">
        <field name="active">False</field>
    </record>

    <record id="stock.menu_stock_root" model="ir.ui.menu">
        <field name="active">False</field>
    </record>

    <record id="account.menu_finance" model="ir.ui.menu">
        <field name="active">False</field>
    </record>

    <record id="view_service_category_form" model="ir.ui.view">
        <field name="name">service.category.form</field>
        <field name="model">service.category</field>
        <field name="arch" type="xml">
            <form string="Source">
                <sheet>
                    <group>
                        <field name="product_category_name"/>
                        <field name="service_id"/>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" help="Follow this salesteam to automatically track the events associated to users of this team."/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="view_service_category_tree" model="ir.ui.view">
        <field name="name">service.category.tree</field>
        <field name="model">service.category</field>
        <field name="arch" type="xml">
            <tree string="Source">
                <field name="product_category_name"/>
                <field name="service_id"/>
            </tree>
         </field>
    </record>

    <record id="action_service_category" model="ir.actions.act_window">
        <field name="name">Service Category</field>
        <field name="res_model">service.category</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem action="action_service_category" id="menu_service_category" parent="sales_team.menu_sale_config" sequence="24" groups="sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user"/>

    <record id="product_template_tree_view_inherit" model="ir.ui.view">
        <field name="name">product.template.product.tree</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_tree_view"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                <attribute name="create">false</attribute>
                <attribute name="edit">false</attribute>
            </xpath>

            <field name="list_price" position="attributes">
                <attribute name="string">Fees</attribute>
            </field>
            <field name="standard_price" position="replace">
            </field>
            <field name="list_price" position="before">
                <field name="standard_price"/>
            </field>
        </field>
    </record>

    <record id="view_product_template_service_userwise_tree_view" model="ir.ui.view">
        <field name="name">Product Template Service Userwise Tree View</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="avanta_fields_modifier.product_template_tree_view_inherit"/>
            <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_manager')])]"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="attributes">
                <attribute name="create">true</attribute>
                <attribute name="edit">true</attribute>
            </xpath>
        </field>
    </record>

    <record id="product_reference_template_action" model="ir.actions.act_window">
        <field name="name">Products</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="avanta_fields_modifier.product_template_tree_view_inherit"/>
    </record>

    <record id="product_template_only_form_view_inherit" model="ir.ui.view">
        <field name="name">product.template.product.form</field>
        <field name="model">product.template</field>
        <field name="priority" eval="8" />
        <field name="inherit_id" ref="product.product_template_only_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="attributes">
                <attribute name="create">false</attribute>
                <attribute name="edit">false</attribute>
            </xpath>

            <xpath expr="/form/sheet/div[2]/label" position="replace">
                <label class="oe_edit_only" for="name" string="Product Name"  attrs="{'invisible': [('type', '=', 'service')]}"/>
                <label class="oe_edit_only" for="name" string="Service Name"  attrs="{'invisible': [('type', '!=', 'service')]}"/>
            </xpath>
            <xpath expr="/form/sheet/div[2]/h1//field[@name='name']" position="replace">
                <field name="name" placeholder=" " />
            </xpath>
            <field name="barcode" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>
            <field name="list_price" position="attributes">
                <attribute name="attrs">{'invisible': [('type', '=', 'service')]}</attribute>
            </field>
            <xpath expr="/form/sheet/notebook/page/group/group[@name='group_standard_price']/label" position="attributes">
                <attribute name="attrs">{'invisible': [('type', '=', 'service')]}</attribute>
            </xpath>
            <field name="standard_price" position="attributes">
                <attribute name="attrs">{'invisible': [('type', '=', 'service')]}</attribute>
            </field>
            <xpath expr="/form/sheet/notebook/page/group/group[@name='group_standard_price']" position="after">
                <field name="crm_terms_conditions" attrs="{'invisible': [('type', '!=', 'service')]}"/>
            </xpath>
            <xpath expr="/form/sheet/notebook/page[4]" position="attributes">
                <attribute name="attrs">{'invisible': [('type', '=', 'service')]}</attribute>
            </xpath>
            <page name="invoicing" position="attributes">
                <attribute name="invisible">True</attribute>
            </page>
            <field name="type" position="attributes">
                <attribute name="required">False</attribute>
            </field>
            <page name="sales" position="attributes">
                <attribute name="invisible">1</attribute>
            </page>
            <field name="default_code" position="after">
                <field name="service_id"  attrs="{'invisible': [('type', '=', 'service')]}"/>
            </field>
            <xpath expr="/form/sheet/notebook/page[1]" position="after">
                <page string="Internal Category">
                    <field name="product_category_id">
                        <tree string="Internal Category" editable="bottom">
                            <field name='product_category_name'/>
                            <button name="action_view_product_details" string="click to see the products" type="object" class="btn btn-sm btn-primary"/>
                        </tree>
                    </field>
                </page>
            </xpath>
             <xpath expr="/form/sheet/notebook/page[1]" position="after">
                <page string="CRM Payment Schedule and Terms">
                    <group>
                        <field name="outsourcing_crm_payment_schedule_perms" attrs="{'invisible': [('name', '!=', 'Out Sourcing')]}"/>
                        <field name="crm_psp_cop_seventy" attrs="{'invisible': [('name', '!=', 'Consulting')]}"/>
                        <field name="crm_psp_cop_hmpct_thirty" attrs="{'invisible': [('name', '!=', 'Consulting')]}"/>
                        <field name="crm_psp_cop_icv" attrs="{'invisible': [('name', '!=', 'Consulting')]}"/>
                        <field name="crm_psp_cop" attrs="{'invisible': [('name', '!=', 'Consulting')]}"/>
                        <field name="crm_pst" attrs="{'invisible': [('name', 'not in', ['Consulting', 'Auditing', 'Room Rental', 'EHS Legal Updating', 'AA Training', 'AG Training'])]}"/>
                        <field name="auditing_puc" attrs="{'invisible': [('name', '!=', 'Auditing')]}"/>
                        <field name="auditing_rwbrurfp" attrs="{'invisible': [('name', '!=', 'Auditing')]}"/>
                        <field name="psmsdagpl_seven_days" attrs="{'invisible': [('name', 'not in', ['EHS Legal Updating', 'Room Rental', 'AA Training', 'AG Training'])]}"/>
                        <field name="psmsdagpl_thirty_days" attrs="{'invisible': [('name', 'not in', ['EHS Legal Updating', 'Room Rental', 'AA Training', 'AG Training'])]}"/>
                        <field name="ehs_isucsf" attrs="{'invisible': [('name', '!=', 'EHS Legal Updating')]}"/>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <!--Product userwise access-->
    <record id="view_product_template_service_userwise_form_view" model="ir.ui.view">
        <field name="name">Product Template Service Userwise Form View</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="avanta_fields_modifier.product_template_only_form_view_inherit"/>
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_manager')])]"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="attributes">
                <attribute name="create">true</attribute>
                <attribute name="edit">true</attribute>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="product_template_kanban_stock_view_inherit">
        <field name="name">Product Template Kanban Stock View Inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="stock.product_template_kanban_stock_view"/>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
                <attribute name="create">false</attribute>
                <attribute name="edit">false</attribute>
            </xpath>
        </field>
    </record>

    <record model="ir.ui.view" id="product_template_kanban_userwise_inherit">
        <field name="name">Product Template Kanban userwise inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="avanta_fields_modifier.product_template_kanban_stock_view_inherit"/>
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_manager')])]"/>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
                <attribute name="create">true</attribute>
                <attribute name="edit">true</attribute>
            </xpath>
        </field>
    </record>

    <record id="sales_team_form_view_in_crm_inherit" model="ir.ui.view">
        <field name="name">crm.team.form.inherit</field>
        <field name="model">crm.team</field>
        <field name="inherit_id" ref="crm.sales_team_form_view_in_crm"/>
        <field name="arch" type="xml">
            <field name="name" position="attributes">
                <attribute name="placeholder">Sales Person Name</attribute>
            </field>
            <xpath expr="/form/sheet/div[2]/label" position="replace">
                <label string="Sales Person Name"/>
            </xpath>
            <field name="user_id" position="replace">
                <field name="services_ids" widget="many2many_tags"/>
            </field>

            <field name="alias_id" position="replace">
                <field name="internal_categories_id"  widget="many2many_tags"/>
            </field>
            <div name="edit_alias" position="attributes">
                <attribute name="invisible">True</attribute>
            </div>
            <label for="alias_name" position="replace">
                    <label string="Internal Category" for="alias_name"  />
            </label>
        </field>
    </record>

    <record id="crm_team_view_tree_inherit" model="ir.ui.view">
        <field name="name">crm.team.tree</field>
        <field name="model">crm.team</field>
        <field name="inherit_id" ref="sales_team.crm_team_view_tree"/>
        <field name="arch" type="xml">
            <field name="name" position="attributes">
                <attribute name="string">Sales Person Name</attribute>
            </field>
            <field name="user_id" position="attributes">
                <attribute name="invisible">1</attribute>
            </field>
        </field>
    </record>

    <record id="view_crm_case_leads_filter" model="ir.ui.view">
        <field name="name">CRM - Leads Search</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.view_crm_case_leads_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//search/field[@name='name']" position="before">
                <filter string="My Status" name="my_status" domain="[('user_id', '=', uid)]"/>
                <separator/>
            </xpath>
            <field name="user_id" position="after">
                <field name="crm_lead_status"/>
            </field>
            <filter name="customer" position="after">
                <filter string="Status" name="group_by_status" domain="[]" context="{'group_by':'crm_lead_status'}"/>
            </filter>
        </field>
    </record>

    <record model="ir.ui.view" id="crm_lead_status_form">
        <field name="name">Status</field>
        <field name="model">crm.lead</field>
        <field name="arch" type="xml">
            <form string="Opportunities" create="false">
                <sheet>
                    <div class="oe_title">
                        <label string="Customer Name" class="oe_edit_only"/>
                        <h1><field name="name" readonly="1"/></h1>
                        <label for="planned_revenue" class="oe_edit_only"/>
                        <h2>
                            <field name="company_currency" invisible="1" readonly="1"/>
                            <field name="planned_revenue" class="oe_inline" widget='monetary' readonly="1" options="{'currency_field': 'company_currency'}"/>
                            <span class="oe_grey"> at </span>
                            <field name="probability" class="oe_inline" widget="integer" readonly="1"/>%%
                        </h2>
                    </div>
                    <group>
                        <group>
                            <field name="partner_id" readonly="1"
                                string="Customer"
                                context="{'default_name': partner_name, 'default_email': email_from, 'default_phone': phone}"/>
                            <field name="quotation_preferred" readonly="1"/>
                            <field name="email_from" string="Email" widget="email" readonly="1"/>
                            <field name="phone" readonly="1"/>
                        </group>

                        <group>
                            <label for="title_action"/>
                            <div>
                                <field name="date_action" readonly="1" nolabel="1"/> <label string="-" attrs="{'invisible': ['|', ('date_action', '=', False), ('title_action', '=', False)]}"/>
                                <field name="title_action" readonly="1" class="oe_inline" nolabel="1" placeholder="e.g. Call for proposal"/>
                            </div>
                            <field name="date_deadline" readonly="1"/>
                            <field name="priority" widget="priority" readonly="1"/>
                            <field name="services" readonly="1"/>
                            <field name="products" readonly="1"/>
                        </group>

                        <group>
                            <field name="user_id" readonly="1" context="{'default_groups_ref': ['base.group_user', 'base.group_partner_manager', 'base.group_sale_salesman_all_leads']}"/>
                            <field name="team_id" readonly="1"/>
                            <field name="project_phases" readonly="1"/>
                        </group>
                    </group>

                    <notebook colspan="4">
                    <page string="Internal Notes">
                        <field name="description" readonly="1"/>
                    </page>
                    <page string="Contact Information">
                        <group>
                            <group>
                                <field name="partner_name" readonly="1"/>
                                <label for="street" string="Address" readonly="1"/>
                                <div>
                                    <field name="street" placeholder="Street..." readonly="1"/>
                                    <field name="street2" readonly="1"/>
                                    <div class="address_format">
                                        <field name="city" placeholder="City" style="width: 40%%" readonly="1"/>
                                        <field name="state_id" options='{"no_open": True}' readonly="1" placeholder="State" style="width: 24%%"/>
                                        <field name="zip" placeholder="ZIP" readonly="1" style="width: 34%%"/>
                                    </div>
                                    <field name="country_id" placeholder="Country" readonly="1" options='{"no_open": True, "no_create": True}'/>
                                </div>
                            </group>

                            <group>
                                <label for="contact_name"/>
                                <div>
                                    <field name="contact_name" class="oe_inline" readonly="1"/>
                                    <field name="title" readonly="1" placeholder="Title" domain="[('domain', '=', 'contact')]" options='{"no_open": True}' class="oe_inline"/>
                                </div>
                                <field name="function" readonly="1" />
                                <field name="mobile" readonly="1" />
                                <field name="fax" readonly="1" />
                            </group>
                            <group string="Mailings" readonly="1" name="mailings">
                                <field name="opt_out" readonly="1" />
                            </group>
                            <group string="Misc">
                                <field name="active" readonly="1" />
                                <field name="day_open" readonly="1" groups="base.group_no_one"/>
                                <field name="day_close" readonly="1" groups="base.group_no_one"/>
                                <field name="referred" readonly="1"/>
                                <field name="type" invisible="1" readonly="1"/>
                            </group>
                        </group>
                    </page>
                </notebook>
            </sheet>
            <div class="oe_chatter">
                <field name="message_follower_ids" widget="mail_followers"/>
                <field name="message_ids" widget="mail_thread"/>
            </div>
            </form>
        </field>
    </record>

    <record id="crm_leads_status_action" model="ir.actions.act_window">
        <field name="name">Status</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">crm.lead</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_group_by_status': 1,'search_default_my_status': True}</field>
        <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('crm.crm_case_tree_view_oppor')}),
        (0, 0, {'view_mode': 'form', 'view_id': ref('crm_lead_status_form')})]"/>
    </record>

    <menuitem action="crm_leads_status_action" id="menu_status_crm_lead" parent="sales_team.menu_sales" sequence="10" groups= "sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user"/>

    <!--EHL Renewal Notification-->
    <record id="ehl_renewal_scheduler" model="ir.cron">
        <field name="name">EHL renewal Scheduler</field>
        <field name="active" eval="True" />
        <field name="interval_type">minutes</field>
        <field name="numbercall">-1</field>
        <field name="doall" eval="False" />
        <field name="model" eval="'crm.lead'" />
        <field name="function" eval="'ehl_renewal_scheduler'" />
        <field name="args" eval="'()'" />
    </record>

    <menuitem id="sales_team.menu_sale_report" name="Reports" parent="sales_team.menu_base_partner" sequence="99" groups="sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user"/>
    <menuitem id="crm.crm_activity_report_menu" name="Activities" groups="sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user" parent="sales_team.menu_sale_report" action="crm.crm_activity_report_action" sequence="7"/>

    <report
            id="sale.report_sale_order"
            string="Quotation / Order"
            model="sale.order"
            report_type="qweb-pdf"
            file="sale.report_saleorder"
            name="sale.report_saleorder"
            menu="False"
        />

    <record id="crm_opportunity_report_view_pivot_inherit" model="ir.ui.view">
        <field name="name">crm.opportunity.report.pivot.inherit</field>
        <field name="model">crm.opportunity.report</field>
        <field name="inherit_id" ref="crm.crm_opportunity_report_view_pivot"/>
        <field name="arch" type="xml">
            <field name="create_date" position="after">
                <field name="lost_reason" type="col"/>
                <field name="won_reasion_id" type="col"/>
            </field>
            <field name="expected_revenue" type="measure" position="replace">
            </field>
        </field>
    </record>

    <record id="crm_opportunity_salesperson_report_view_pivot" model="ir.ui.view">
    <field name="name">crm.opportunity.salesperson.report.pivot</field>
    <field name="model">crm.opportunity.report</field>
    <field name="arch" type="xml">
        <pivot string="Salesperson Pipeline Analysis" disable_linking="True">
            <field name="user_id" type="col"/>
            <field name="stage_id" type="row"/>
        </pivot>
    </field>
    </record>

    <record id="crm_opportunity_report_action" model="ir.actions.act_window">
        <field name="name">Salesperson Pipeline Analysis</field>
        <field name="res_model">crm.opportunity.report</field>
        <field name="view_type">form</field>
        <field name="view_mode">pivot</field>
        <field name="view_id" ref="crm_opportunity_salesperson_report_view_pivot"/>
    </record>

    <menuitem id="crm.crm_opportunity_report_menu" name="Pipeline"
            parent="sales_team.menu_sale_report" action="crm.crm_opportunity_report_action" sequence="5" groups="sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user"/>

    <menuitem id="crm_opportunity_Salesperson_report_menu" name="Sales Person Pipeline"
        parent="sales_team.menu_sale_report" action="crm_opportunity_report_action" sequence="9" groups="sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user"/>

    <menuitem name="Sales" action="sale.action_order_report_all" id="sale.menu_report_product_all" parent="sales_team.menu_sale_report" sequence="10" groups="sales_team.group_sale_manager,sales_team.group_sale_salesman,avanta_fields_modifier.group_management_representative,avanta_fields_modifier.group_crm_user"/>

    <report id="product.report_product_template_label"
            string="Products Labels"
            model="product.template"
            report_type="qweb-pdf"
            name="product.report_producttemplatelabel"
            file="product.report_producttemplatelabel"
            groups="sales_team.group_sale_manager" />
</odoo>