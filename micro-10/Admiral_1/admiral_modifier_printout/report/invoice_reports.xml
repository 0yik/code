<?xml version="1.0" encoding="utf-8"?>
<odoo>

<!-- Headers and Footers for Invoice Report -->		
<template id="external_layout_invoice_header_footer">
    <!-- Multicompany -->
    <t t-if="not o and doc">
        <t t-set="o" t-value="doc"/>
    </t>
    <t t-if="o and 'company_id' in o">
        <t t-set="company" t-value="o.company_id"></t>
    </t>
    <t t-if="not o or not 'company_id' in o">
        <t t-set="company" t-value="res_company"></t>
    </t>

    <t t-call="admiral_modifier_fields.external_layout_header_invoice" />
    <t t-raw="0" />
    <t t-call="admiral_modifier_fields.external_layout_footer_invoice" />
</template>
<!-- ==================== 
    HEADER INVOICE REPORT 
     ==================== -->
<template id="admiral_modifier_fields.external_layout_header_invoice">
     <div class="header">
        <div class="row">
            <div class="col-xs-3">
                <img t-if="company.logo" t-att-src="'data:image/png;base64,%s' % company.logo" style="height:86px;width: 180px;"/>
            </div>
            <div class="col-xs-6">
                <b><span class="text-left" style="top:17px;font-size:20pt;font-family:Arial;" t-esc="company.name"></span></b>
                <br/>
                <span class="text-left" style="font-size:12pt;font-family:Arial;" t-esc="company.street and company.street or ''"></span> .
                <span class="text-left" style="top:17px;font-size:12pt;font-family:Arial;" t-esc="company.street2 and company.street2 or ''"> . </span>
                <br/>
                <span class="text-left" style="font-size:12pt;font-family:Arial;" t-esc="company.country_id and company.country_id.name or ''"></span>
                <span class="text-left" style="top:17px;font-size:12pt;font-family:Arial;" t-esc="company.zip and company.zip or ''"></span>
                <span class="text-left" style="top:17px;font-size:12pt;font-family:Arial;"> . Mobile :</span>
                <span class="text-left" style="top:17px;font-size:12pt;font-family:Arial;" t-esc="company.partner_id.mobile and company.partner_id.mobile or company.phone"></span> .
                <br/>
                <span class="text-left" style="top:17px;font-size:12pt;font-family:Arial;"> Company Registration No. </span> <span class="text-left" style="top:17px;font-size:12pt;font-family:Arial;" t-esc="company.company_registry and company.company_registry or ''"/>
                <br/>
                <span class="text-left" style="top:17px;font-size:12pt;font-family:Arial;"> GST Registration No. </span> <span class="text-left" style="top:17px;font-size:12pt;font-family:Arial;" t-esc="company.vat and company.vat or ''"/>
            </div>
            <div class="col-xs-3">
                <b><span class="text-right" style="top:17px;font-size:15pt;font-family:Arial;"> INVOICE</span></b>
            </div>
        </div>
    </div>
</template>
<!-- ==================== 
    FOOTER INVOICE REPORT 
     ==================== -->
<template id="admiral_modifier_fields.external_layout_footer_invoice">
    <div class="footer">
        <div class="text-center" style="border-top:5px solid black;">
            <div class="col-xs-4 col-xs-offset-8" name="company_address"
                 style="text-align:left;text-transform:uppercase;font-size:11px;padding:5px 0 10px;">
                <span t-field="company.partner_id.name"/>
            </div>
            <div class="col-xs-12 text-left"
                 style="border-top:1px solid black;border-bottom:1px solid black;font-size:10px;">
                This is a computer generated copy, no signature required.
            </div>
        </div>
    </div>
</template>
    
    
<!-- Customize INVOICE REPORT -->
<template id="report_invoice_document">
    <t t-call="admiral_modifier_fields.external_layout_invoice_header_footer">
        <t t-foreach="docs" t-as="o">
            <div class="page" style="font-size:12pt;font-family:Arial;">
            <div class="row">
                <div class="col-xs-8">
                    <span><strong> TO : </strong></span>
                    <br/>
                    <span t-if="not o.partner_id.is_company" t-esc="o.partner_id.parent_id.name"/>
                    <span t-if="o.partner_id.is_company" t-esc="o.partner_id.name"/>
                    <br/>
                    <span t-if="o.partner_id.street" t-esc="o.partner_id.street"/><br/>
                    <span t-if="o.partner_id.street2" t-esc="o.partner_id.street2"/><br/>
                    <span t-if="o.partner_id.country_id or o.partner_id.city" t-esc="o.partner_id.country_id and o.partner_id.country_id.name or o.partner_id.city"/> <span t-if="o.partner_id.zip" t-esc="o.partner_id.zip"/><br/><br/>
                </div>
                <div class="col-xs-4">
                    <table>
                        <tr>
                            <td style="width:80px;" class="text-right"> <span><strong> INV NO :</strong></span> </td>
                            <td class="text-left"><span t-field="o.report_display_number"/> </td>
                        </tr>
                        <tr>
                            <td style="width:80px;" class="text-right"> <span><strong> DATE :</strong></span> </td>
                            <td class="text-left"><span t-field="o.date_invoice"/> </td>
                        </tr>
                    </table>
                </div>
            </div>

            <table class="table table-condensed">
                <thead>
                    <tr style="background-color:#8ec5ff;font-weight:500;text-transform:uppercase;text-align:center;">
                        <th class="text-center" style="border:none;border-right: 1px solid black;padding:4px; width: 55%;"><strong>DESCRIPTION</strong></th>
                        <th class="text-center" style="border:none;border-right: 1px solid black;padding:4px;"><strong>QTY (KG)</strong></th>
                        <th class="text-center" style="border:none;border-right: 1px solid black;padding:4px;"><strong>UNIT PRICE/KG</strong></th>
                        <th class="text-center" style="border:none;border-right: 1px solid black;padding:4px;"><strong>AMOUNT</strong></th>
                    </tr>
                </thead>
                <tbody class="invoice_tbody">
                    <t t-foreach="o.invoice_line_ids" t-as="line">
                        <tr style="background-color:white;">
                            <td class="text-left" style="border:none;border-right: 1px solid black;text-align:left;padding:4px;" >
                                <span t-field="line.name"/>
                            </td>
                            <td class="text-center" style="border:none;border-right: 1px solid black;padding:4px;">
                                <span t-field="line.quantity"/>
                                <!--<span t-field="line.uom_id.name" groups="product.group_uom"/>-->
                            </td>
                            <td class="text-center" style="border:none;border-right: 1px solid black;padding:4px;">
                                USD <span t-field="line.price_unit" t-options='{ "display_currency": o.currency_id}'/>
                            </td>
                            <td class="text-center" style="border:none;padding:4px;">
                                USD <span t-field="line.price_subtotal" t-options='{ "widget": "False"}' />
                            </td>
                        </tr>
                        <tr style="background-color:#b8b8b8;color:#b8b8b8;">
                            <td style="border:none;border-right: 1px solid black;padding:4px;">text</td>
                            <td style="border:none;border-right: 1px solid black;padding:4px;">text</td>
                            <td style="border:none;border-right: 1px solid black;padding:4px;">text</td>
                            <td style="border:none;">text</td>
                        </tr>
                    </t>
                    <tr>
                            <td colspan="2">
                                <span><strong> PAYMENT TERMS : </strong></span>
                                <span t-field="o.payment_term_id.note"/>
                            </td>

                    </tr>
                    <tr class="table-footer">
                            <td colspan="2" style="border-top : none;">
                                <span><strong> Delivery Term : </strong></span>
                                <span t-field="o.deli_term"/>
                            </td>
                    </tr>
                    <tr class="table-footer">
                        <td style="border-top : none;"></td>
                        <td style="border-top : none;"></td>
                        <td style="border-top : none; background-color: #8ec5ff;"><span><strong>TOTAL DUE</strong></span></td>
                        <td style="border-top : none;">USD <span t-field="o.amount_total" t-field-options='{"widget": "False", "display_currency": "o.currency_id"}'/></td>
                    </tr>
                </tbody>
            </table>

            <div class="col-xs-12" style="margin-top:30px;background-color:#b7b7b7; padding-left : 0px;">
                <p style="font-weight:500;"><strong>Delivery to :</strong></p>
                <span t-if="not o.partner_shipping_id.is_company" t-esc="o.partner_shipping_id.parent_id.name"/>
                <span t-if="o.partner_shipping_id.is_company" t-esc="o.partner_shipping_id.name"/>
                <br/>
                <span t-if="o.partner_shipping_id.street" t-esc="o.partner_shipping_id.street"/><br/>
                <span t-if="o.partner_shipping_id.street2" t-esc="o.partner_shipping_id.street2"/><br/>
                <span t-if="o.partner_shipping_id.country_id or o.partner_shipping_id.city" t-esc="o.partner_shipping_id.country_id and o.partner_shipping_id.country_id.name or o.partner_shipping_id.city"/> <span t-if="o.partner_shipping_id.zip" t-esc="o.partner_shipping_id.zip"/><br/>
                <span>Tel.</span>
                <span t-if="o.partner_shipping_id.phone" t-esc="o.partner_shipping_id.phone"/><br/>
                <span t-if="not o.partner_shipping_id.is_company">Contact : </span>
                <span t-if="not o.partner_shipping_id.is_company" t-esc="o.partner_shipping_id.name"><br/></span>
            </div>
        </div>
        </t>
    </t>
</template>

   <template id="report_invoice">
            <t t-call="report.html_container">
                <t t-foreach="docs" t-as="doc">
                    <t t-call="admiral_modifier_printout.report_invoice_document" t-lang="doc.partner_id.lang"/>
                </t>
            </t>
        </template>

        <report
            id="action_report_delivery"
            model="account.invoice"
            string="Invoices"
            report_type="qweb-pdf"
            name="admiral_modifier_printout.report_invoice"
            file="admiral_modifier_printout.report_invoice"
        />
</odoo>