<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <template id="stock.report_location_barcode">
        <t t-call="report.html_container">

            <div class="page">
                 <t t-foreach="docs" t-as="o">
                    <div style="margin-top:300px; -webkit-transform: rotate(90deg);-moz-transform: rotate(90deg);-o-transform: rotate(90deg);-ms-transform: rotate(90deg);transform: rotate(90deg);">
                        <t t-if="o.barcode">
                            <t t-set="content" t-value="o.barcode"/>
                        </t>
                        <t t-if="not o.barcode">
                            <t t-set="content" t-value="o.name"/>
                        </t>
                        <img class="barcode"  t-att-src="'/report/barcode/?type=%s&amp;value=%s&amp;width=%s&amp;height=%s&amp;humanreadable=1' % ('Code128', content, 550, 150)"/>

                    </div>
                </t>
            </div>

        </t>
    </template>

    <record id="location_barcode_paperformat" model="report.paperformat">
            <field name="name">Location Barcode</field>
            <field name="default" eval="True"/>
            <field name="format">custom</field>
            <field name="page_height">60</field>
            <field name="page_width">325</field>
            <field name="orientation">Landscape</field>
            <field name="margin_top">5</field>
            <field name="margin_bottom">5</field>
            <field name="margin_left">1</field>
            <field name="margin_right">1</field>
            <field name="header_line" eval="True"/>
            <field name="header_spacing">60</field>
            <field name="dpi">80</field>
        </record>

    <record id="stock.action_report_location_barcode" model="ir.actions.report.xml">
        <field name="paperformat_id" ref="location_barcode_paperformat"/>
    </record>

    <report id="stock.action_report_location_barcode"
            string="Location BarCode"
            model="stock.location"
            report_type="qweb-pdf"
            name="stock.report_location_barcode"
            file="stock.report_location_barcode"
    />


</odoo>
