<?xml version="1.0" encoding="utf-8"?>
<odoo> 
	<record model="ir.ui.view" id="view_repository_tree_latest_module_file_field">
	    <field name="name">view.repository.tree.latest.module.file.field</field>
	    <field name="model">module.repository</field>
	    <field name="inherit_id" ref="module_repository.view_repository_tree" />
	    <field name="arch" type="xml">
	    	<field name="version_no" position="after">
				<!-- <field name="module_filename" invisible="1"/>
				<field name="latest_module_file" filename="module_filename"/> -->
				<button name="download_latest_version" type="object" string="Download" />    		
	    	</field> 
	    </field>
	</record>
	
	<!-- Project Manger field in Module Repository -->
	<record model="ir.ui.view" id="view_repository_form_inherit">
	    <field name="name">view.repository.form.inherit</field>
	    <field name="model">module.repository</field>
	    <field name="inherit_id" ref="module_repository.view_repository_form" />
	    <field name="arch" type="xml">
	    	<field name="fork_of" position="after">
	    		<field name="project_manager_id" readonly="1" />
			</field>	    		
	    </field>
	</record>	    	
	
	<!-- Set default fields in module repository popup when it will open from developer task -->
    <record id="developer_task_list_form_inherit" model="ir.ui.view">
        <field name="name">developer.task.list.form.view.inherit</field>
        <field name="model">developer.task.list</field>
        <field name="inherit_id" ref="developer_task.developer_task_list_form" />
        <field name="arch" type="xml">
        	<field name="module_ids" position="attributes">
        		<attribute name="context">{'default_name':name,'default_objective':objective_name,
        			'default_features':proj_features,'default_project_manager_id':manager_id}</attribute>
        		<attribute name="options">{'reload_on_button': True}</attribute>
        	</field>
        	<field name="revision_ids" position="attributes">
        		<attribute name="context">{'default_project_manager_review':manager_id,'default_developer_id':developer_id,'default_system_specialist':system_specialist}</attribute>
        	</field>
        	<xpath expr="//field[@name='revision_ids']/tree/field[@name='project_manager_review']" position="after">
        		<button name="download_attachtement" type="object" string="Download" />
        		<!--<field name="filename" invisible="1" />
        		<field name="attch_bin_revision" filename="filename" />--> 
        	</xpath>
        </field>
   	</record>
   	
   	<!--Attachment and Revision download button in developer task list -->
	<record model="ir.ui.view" id="view_developer_task_tree_inherit">
	    <field name="name">view.developer.task.list.inherit</field>
	    <field name="model">developer.task.list</field>
	    <field name="inherit_id" ref="developer_task.developer_task_list_tree_view" />
	    <field name="arch" type="xml">
	    	<field name="module_ids" position="after">
	    		<button name="download_latest_module" type="object" string="Download"  />
			</field>	    		
	    </field>
	</record>	       		
   	  	   			
</odoo>