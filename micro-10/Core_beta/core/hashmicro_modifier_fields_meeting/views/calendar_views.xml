<?xml version="1.0"?>
<odoo>

    <record id="view_calendar_event_form_modifier_inherit" model="ir.ui.view">
        <field name="name">calendar.event.form.modifier.inherit</field>
        <field name="model">calendar.event</field>
        <field name="inherit_id" ref="calendar.view_calendar_event_form"/>
        <field name="arch" type="xml">

            <field name="allday" position="after">
                <field name="is_commited" invisible="1"/>
            </field>

            <field name="start_date" position="attributes">
                <attribute name="attrs">{'invisible': [('allday','=',False)], 'required': [('allday','=',True)], 'readonly': ['|',('recurrency','=',True),('is_commited','!=', False)]}</attribute>
            </field>

            <field name="stop_date" position="attributes">
                <attribute name="attrs">{'invisible': [('allday','=',False)], 'required': [('allday','=',True)], 'readonly': ['|', ('recurrency','=',True),('is_commited','!=', False)]}</attribute>
            </field>

            <field name="start_datetime" position="attributes">
                <attribute name="attrs">{'invisible': [('allday','=',True)], 'required': [('allday','=',False)], 'readonly': ['|',('recurrency','=',True),('is_commited','!=', False)]}</attribute>
            </field>

            <field name="partner_ids" position="attributes">
                <attribute name="required">1</attribute>
                <attribute name="attrs">{'readonly':['|', ('is_commited', '!=', False), ('state', '=', 'done')]}</attribute>
            </field>

            <field name="allday" position="attributes">
                <attribute name="attrs">{'readonly': ['&amp;','|',('id', '!=', False), ('recurrency','=',True),('is_commited','!=', False)]}</attribute>
            </field>

            <field name="categ_ids" position="attributes">
                <attribute name="required">1</attribute>
                <attribute name="attrs">{'readonly':[('is_commited', '!=', False)]}</attribute>
            </field>

            <field name="location" position="attributes">
                <attribute name="required">1</attribute>
            </field>

            <field name="duration" position="attributes">
                <attribute name="attrs">{'readonly':[('is_commited', '!=', False)], 'required':[('allday', '=', False)]}</attribute>
            </field>

        </field>
    </record>

</odoo>
