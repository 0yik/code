<?xml version='1.0' encoding='UTF-8' ?>
<odoo>
    <data>

        <record id="emp_memo_history_form_view"  model="ir.ui.view">
            <field name="name">emp.memo.history.form.view</field>
            <field name="model">emp.memo.history</field>
            <field name="arch" type="xml">
                <form>
                 
                            <group>
				<field name="is_memo_button" invisible="1"/>
				<field name="report_type" required="1" attrs="{'readonly':[('is_memo_button','=',True)] }"/>
                                <field name="emp_name" options="{'no_open':True,'no_create':True,'no_create_edit':True}" attrs="{'required':[('report_type','=','employee')],'invisible':[('report_type','in',['department',False])], 'readonly':[('is_memo_button','=',True)]}"/>
                                <field name="emp_id" readonly="1" attrs="{'invisible':[('report_type','in',['department',False])]}"/>
                                <field name="job_title" readonly="1" attrs="{'invisible':[('report_type','in',['department',False])]}"/>
                                <field name="join_date" readonly="1" attrs="{'invisible':[('report_type','in',['department',False])]}"/>
                                <field name="department_id" attrs="{'readonly':[('report_type','=','employee')],'invisible':[('report_type','=',False)],'required':[('report_type','=','department')]}" options="{'no_open':True,'no_create':True,'no_create_edit':True}"/>
                                <field name="supervisor_name" readonly="1" attrs="{'invisible':[('report_type','in',['department',False])]}"/>
                            </group>
                            
                        
                        <notebook attrs="{'invisible':[('report_type','in',['department',False])]}">
                            <page string="Memo">
                                <field name="emp_memo_history_ids" readonly="1">
                                   <tree create="false">
                                        <field name="name"/>
                                        <field name="memo_type"/>
                                        <field name="memo_desc"/>
                                        <field name="date"/>
                                        <field name="year"/>
                                        <field name="quarter"/>
                                    </tree>
                                    <form>
				    <group>
                                        <field name="name" readonly="1" />
                                        <field name="memo_type" readonly="1" />
                                        <field name="memo_desc" readonly="1" />
                                        <field name="date" readonly="1" />
                                        <field name="year" readonly="1" />
                                        <field name="quarter" readonly="1" />
				    </group>
                                    </form>
                                </field>
                            </page>
                        </notebook>
		
		<footer>
			<button name="print_report" string="Print" class="oe_highlight" type="object" attrs="{'invisible':[('is_memo_button','=',True)] }"/>
			
			<button string="Discard" class="oe_link" special="cancel" attrs="{'invisible':[('is_memo_button','=',True)] }"/>
                   </footer> 
                </form>

            </field>
        </record>

        <record id="emp_memo_history_action" model="ir.actions.act_window">
            <field name="name">Employee Memo History</field>
            <field name="res_model">emp.memo.history</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>
    </data>
</odoo>

